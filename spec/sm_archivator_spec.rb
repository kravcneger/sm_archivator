require 'spec_helper'

RSpec.describe SmArchivator do

  let(:message) { 'Экс-чемпион мира в семи весовых категориях и действующий чемпион WBO в полусреднем весе филиппинец Мэнни Пакьяо заявил' }
  let(:stream) { '00001110100001011111001110100011000111111101000010111011111010000101110000011101000110000001011101000110000000111010000101110100111010000101111011110100001011001000000011101000010011111111010000101100110111010001100011001110100011000101101110100011000001101110100001011011111101000110001110001110100001011010011101000010111001111010000101100001001000000000111010001100000101110100011000011100111010001100001101110100011000100101010101111010000100001110100001001110011101000110001101011101000010101101100101101011101000110000101010100111111101000110000100001110100001011111111101000010111100111010000101101011101010010110100110101111000111111110111100001000001101011110100101010100111010111101010011111110100110101111111010000000111100001111011010101011100111100001111100000100000101000100010110110101001101100100111110010101001100000111100010100011111001010011001011011100011111111011110000100000110101110011011001111101110101011110111100000000011100010010001010111110010001101111111011010111111101001111101110111100100011001111001110000101101111110010010111010001101001011001100011011000000100110101110000100001000001011000110100110001001110010001100000000011' }

  it { expect( SmArchivator::compress(message) ).to eq(stream) }

  it { expect( SmArchivator::expand(stream) ).to eq(message) }
      
end
